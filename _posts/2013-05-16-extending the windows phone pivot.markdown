---
layout: post
title: "extending the windows phone pivot"
date: 2013-05-16 11:16:00 +0200
comments: true
published: true
categories: ["post"]
tags: [".Net", "Binding", "Devices", "WP7", "WP8", "XAML"]
alias: ["/blog/post/2013/05/16/Extending-the-Windows-Phone-pivot.aspx", "/blog/post/2013/05/16/extending-the-windows-phone-pivot.aspx"]
author: Nico Vermeir
redirect_from:
 - /blog/post/2013/05/16/Extending-the-Windows-Phone-pivot.aspx
 - /blog/post/2013/05/16/extending-the-windows-phone-pivot.aspx
---
<p>As I was working on a Windows Phone 8 project I needed a pivot that could hide its title, giving back some screen real-estate when needed. The basic pivot that is included in the Windows Phone SDK doesn&rsquo;t have this kind of behavior so it was a great opportunity to try out custom controls in Windows Phone. I&rsquo;ve build custom controls in XAML before but never based on an existing one, so fun times ahead. Let me start by showing a side-by-side comparison between both views of my pivot.</p>
<p><a href="http://i39.tinypic.com/14ucrja.jpg" target="_blank"><img src="http://i39.tinypic.com/14ucrja.jpg" alt="" /></a></p>
<p>don&rsquo;t mind the overlapping textblock and button, point is that when the button is clicked, the title of the pivot disappears.</p>
<h2>Building a XAML custom control</h2>
<p>It&rsquo;s quite easy to build a custom control in XAML as long as you follow the guidelines. It requires you to add a folder called Themes and in the folder a file called generic.xaml. The generic.xaml file is a resource dictionary, no code behind file is needed. Do follow the naming conventions exactly or your control won&rsquo;t work. Next step is adding a class that inherits from ContentControl (or a control that already inherits from ContentControl). The project for my ExtendedPivot looks like this</p>
<p><img src="http://i41.tinypic.com/30svhpu.jpg" alt="" /></p>
<p>The project type is a WP8 class library containing two custom controls, one for the pivot and one for the pivot items.</p>
<h2>Extending the pivot</h2>
<p>Since I only want to add a functionality to an existing control, the Pivot, my ExtendedPivot class inherits from Pivot instead of CustomControl.</p>
<div id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:db0feaa4-9d0e-40a3-afcd-ef38f89016c5" class="wlWriterEditableSmartContent" style="float: none; margin: 0px; display: inline; padding: 0px;">
<div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt;">
<div style="background: #000080; color: #fff; font-family: Verdana, Tahoma, Arial, sans-serif; font-weight: bold; padding: 2px 5px;">Code Snippet</div>
<div style="background: #ddd; max-height: 500px; overflow: auto;"><ol style="background: #ffffff; margin: 0 0 0 2.5em; padding: 0 0 0 5px;" start="1">
<li><span style="background: #ffffff; color: #0000ff;">public</span><span style="background: #ffffff; color: #0000ff;">class</span><span style="background: #ffffff; color: #2b91af;">ExtendedPivot</span><span style="background: #ffffff; color: #000000;"> : </span><span style="background: #ffffff; color: #2b91af;">Pivot</span></li>
<li style="background: #f3f3f3;"><span style="background: #ffffff; color: #2b91af;">{</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">public</span><span style="background: #ffffff; color: #0000ff;">static</span><span style="background: #ffffff; color: #0000ff;">readonly</span><span style="background: #ffffff; color: #2b91af;">DependencyProperty</span><span style="background: #ffffff; color: #000000;"> HeaderVisibilityProperty =</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #2b91af;">DependencyProperty</span><span style="background: #ffffff; color: #000000;">.Register(</span><span style="background: #ffffff; color: #a31515;">"HeaderVisibilityProperty"</span><span style="background: #ffffff; color: #000000;">, </span><span style="background: #ffffff; color: #0000ff;">typeof</span><span style="background: #ffffff; color: #000000;"> (</span><span style="background: #ffffff; color: #2b91af;">Visibility</span><span style="background: #ffffff; color: #000000;">), </span><span style="background: #ffffff; color: #0000ff;">typeof</span><span style="background: #ffffff; color: #000000;"> (</span><span style="background: #ffffff; color: #2b91af;">ExtendedPivot</span><span style="background: #ffffff; color: #000000;">), </span><span style="background: #ffffff; color: #0000ff;">new</span><span style="background: #ffffff; color: #2b91af;">PropertyMetadata</span><span style="background: #ffffff; color: #000000;">(</span><span style="background: #ffffff; color: #0000ff;">null</span><span style="background: #ffffff; color: #000000;">));</span></li>
<li>&nbsp;</li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">public</span><span style="background: #ffffff; color: #2b91af;">Visibility</span><span style="background: #ffffff; color: #000000;"> HeaderVisibility</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #000000;">{</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">get</span><span style="background: #ffffff; color: #000000;"> { </span><span style="background: #ffffff; color: #0000ff;">return</span><span style="background: #ffffff; color: #000000;"> (</span><span style="background: #ffffff; color: #2b91af;">Visibility</span><span style="background: #ffffff; color: #000000;">)GetValue(HeaderVisibilityProperty); }</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">set</span><span style="background: #ffffff; color: #000000;"> { SetValue(HeaderVisibilityProperty, </span><span style="background: #ffffff; color: #0000ff;">value</span><span style="background: #ffffff; color: #000000;">); }</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #000000;">}</span></li>
<li>&nbsp;</li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">public</span><span style="background: #ffffff; color: #000000;"> ExtendedPivot()</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #000000;">{</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #000000;">DefaultStyleKey =&nbsp;&nbsp;</span><span style="background: #ffffff; color: #0000ff;">typeof</span><span style="background: #ffffff; color: #000000;">(</span><span style="background: #ffffff; color: #2b91af;">ExtendedPivot</span><span style="background: #ffffff; color: #000000;">);</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #000000;">}</span></li>
<li style="background: #f3f3f3;"><span style="background: #ffffff; color: #000000;">}</span></li>
</ol></div>
</div>
</div>
<p>We&rsquo;ll start with the constructor, Line 14 is necessary when developing a custom control, it sets the style of the control to the style defined in generic.xaml (we&rsquo;ll get to that style in a minute). Lines 6 &ndash; 10 are a property that will be used by the DependencyProperty. The DependencyProperty (lines 3-4) is a property that we can bind a value to when using the control in a project, it might seem a bit overwhelming at first but there&rsquo;s a great snippet in VS2012 to easily write them. Basically, the parameters for the Register function are a name, the type of the property, the owner type (type of the control where you&rsquo;re declaring the DP) and some metadata.</p>
<p>The get and set method of the normal property use the DP to get and set values through databinding.</p>
<h2>generic.xaml</h2>
<p>This is the style for the ExtendedPivot as declared in generic.xaml</p>
<div id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:37eb1689-dea5-4c5d-81a7-aa149503eea0" class="wlWriterEditableSmartContent" style="float: none; margin: 0px; display: inline; padding: 0px;">
<div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt;">
<div style="background: #000080; color: #fff; font-family: Verdana, Tahoma, Arial, sans-serif; font-weight: bold; padding: 2px 5px;">Code Snippet</div>
<div style="background: #ddd; max-height: 500px; overflow: auto;"><ol style="background: #ffffff; margin: 0 0 0 2.5em; padding: 0 0 0 5px;" start="1">
<li><span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">Style</span><span style="background: #ffffff; color: #ff0000;"> TargetType</span><span style="background: #ffffff; color: #0000ff;">="local:ExtendedPivot"&gt;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">Setter</span><span style="background: #ffffff; color: #ff0000;"> Property</span><span style="background: #ffffff; color: #0000ff;">="Margin"</span><span style="background: #ffffff; color: #ff0000;"> Value</span><span style="background: #ffffff; color: #0000ff;">="0" /&gt;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">Setter</span><span style="background: #ffffff; color: #ff0000;"> Property</span><span style="background: #ffffff; color: #0000ff;">="Padding"</span><span style="background: #ffffff; color: #ff0000;"> Value</span><span style="background: #ffffff; color: #0000ff;">="0" /&gt;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">Setter</span><span style="background: #ffffff; color: #ff0000;"> Property</span><span style="background: #ffffff; color: #0000ff;">="Foreground"</span><span style="background: #ffffff; color: #ff0000;"> Value</span><span style="background: #ffffff; color: #0000ff;">="{</span><span style="background: #ffffff; color: #a31515;">StaticResource</span><span style="background: #ffffff; color: #ff0000;"> PhoneForegroundBrush}</span><span style="background: #ffffff; color: #0000ff;">" /&gt;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">Setter</span><span style="background: #ffffff; color: #ff0000;"> Property</span><span style="background: #ffffff; color: #0000ff;">="Background"</span><span style="background: #ffffff; color: #ff0000;"> Value</span><span style="background: #ffffff; color: #0000ff;">="Transparent" /&gt;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">Setter</span><span style="background: #ffffff; color: #ff0000;"> Property</span><span style="background: #ffffff; color: #0000ff;">="ItemsPanel"&gt;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">Setter.Value</span><span style="background: #ffffff; color: #0000ff;">&gt;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">ItemsPanelTemplate</span><span style="background: #ffffff; color: #0000ff;">&gt;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">Grid</span><span style="background: #ffffff; color: #0000ff;"> /&gt;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;/</span><span style="background: #ffffff; color: #a31515;">ItemsPanelTemplate</span><span style="background: #ffffff; color: #0000ff;">&gt;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;/</span><span style="background: #ffffff; color: #a31515;">Setter.Value</span><span style="background: #ffffff; color: #0000ff;">&gt;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;/</span><span style="background: #ffffff; color: #a31515;">Setter</span><span style="background: #ffffff; color: #0000ff;">&gt;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">Setter</span><span style="background: #ffffff; color: #ff0000;"> Property</span><span style="background: #ffffff; color: #0000ff;">="Template"&gt;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">Setter.Value</span><span style="background: #ffffff; color: #0000ff;">&gt;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">ControlTemplate</span><span style="background: #ffffff; color: #ff0000;"> TargetType</span><span style="background: #ffffff; color: #0000ff;">="local:ExtendedPivot"&gt;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">Grid</span><span style="background: #ffffff; color: #ff0000;"> HorizontalAlignment</span><span style="background: #ffffff; color: #0000ff;">="{</span><span style="background: #ffffff; color: #a31515;">TemplateBinding</span><span style="background: #ffffff; color: #ff0000;"> HorizontalAlignment}</span><span style="background: #ffffff; color: #0000ff;">"</span><span style="background: #ffffff; color: #ff0000;"> VerticalAlignment</span><span style="background: #ffffff; color: #0000ff;">="{</span><span style="background: #ffffff; color: #a31515;">TemplateBinding</span><span style="background: #ffffff; color: #ff0000;"> VerticalAlignment}</span><span style="background: #ffffff; color: #0000ff;">"&gt;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">Grid.RowDefinitions</span><span style="background: #ffffff; color: #0000ff;">&gt;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">RowDefinition</span><span style="background: #ffffff; color: #ff0000;"> Height</span><span style="background: #ffffff; color: #0000ff;">="Auto" /&gt;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">RowDefinition</span><span style="background: #ffffff; color: #ff0000;"> Height</span><span style="background: #ffffff; color: #0000ff;">="Auto" /&gt;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">RowDefinition</span><span style="background: #ffffff; color: #ff0000;"> Height</span><span style="background: #ffffff; color: #0000ff;">="*" /&gt;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;/</span><span style="background: #ffffff; color: #a31515;">Grid.RowDefinitions</span><span style="background: #ffffff; color: #0000ff;">&gt;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">Grid</span><span style="background: #ffffff; color: #ff0000;"> Grid.RowSpan</span><span style="background: #ffffff; color: #0000ff;">="3"</span><span style="background: #ffffff; color: #ff0000;"> Background</span><span style="background: #ffffff; color: #0000ff;">="{</span><span style="background: #ffffff; color: #a31515;">TemplateBinding</span><span style="background: #ffffff; color: #ff0000;"> Background}</span><span style="background: #ffffff; color: #0000ff;">" /&gt;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">ContentControl</span><span style="background: #ffffff; color: #ff0000;"> Grid.Row</span><span style="background: #ffffff; color: #0000ff;">="0"</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #ff0000;"> Margin</span><span style="background: #ffffff; color: #0000ff;">="24,17,0,-7"</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #ff0000;"> HorizontalAlignment</span><span style="background: #ffffff; color: #0000ff;">="Left"</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #ff0000;"> Content</span><span style="background: #ffffff; color: #0000ff;">="{</span><span style="background: #ffffff; color: #a31515;">TemplateBinding</span><span style="background: #ffffff; color: #ff0000;"> Title}</span><span style="background: #ffffff; color: #0000ff;">"</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #ff0000;"> ContentTemplate</span><span style="background: #ffffff; color: #0000ff;">="{</span><span style="background: #ffffff; color: #a31515;">TemplateBinding</span><span style="background: #ffffff; color: #ff0000;"> TitleTemplate}</span><span style="background: #ffffff; color: #0000ff;">"</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #ff0000;"> Visibility</span><span style="background: #ffffff; color: #0000ff;">="{</span><span style="background: #ffffff; color: #a31515;">TemplateBinding</span><span style="background: #ffffff; color: #ff0000;"> HeaderVisibility}</span><span style="background: #ffffff; color: #0000ff;">" /&gt;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">primitives</span><span style="background: #ffffff; color: #0000ff;">:</span><span style="background: #ffffff; color: #a31515;">PivotHeadersControl</span><span style="background: #ffffff; color: #ff0000;"> x</span><span style="background: #ffffff; color: #0000ff;">:</span><span style="background: #ffffff; color: #ff0000;">Name</span><span style="background: #ffffff; color: #0000ff;">="HeadersListElement"</span><span style="background: #ffffff; color: #ff0000;"> Grid.Row</span><span style="background: #ffffff; color: #0000ff;">="1" /&gt;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">ItemsPresenter</span><span style="background: #ffffff; color: #ff0000;"> x</span><span style="background: #ffffff; color: #0000ff;">:</span><span style="background: #ffffff; color: #ff0000;">Name</span><span style="background: #ffffff; color: #0000ff;">="PivotItemPresenter"</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #ff0000;"> Grid.Row</span><span style="background: #ffffff; color: #0000ff;">="2"</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #ff0000;"> Margin</span><span style="background: #ffffff; color: #0000ff;">="{</span><span style="background: #ffffff; color: #a31515;">TemplateBinding</span><span style="background: #ffffff; color: #ff0000;"> Padding}</span><span style="background: #ffffff; color: #0000ff;">" /&gt;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;/</span><span style="background: #ffffff; color: #a31515;">Grid</span><span style="background: #ffffff; color: #0000ff;">&gt;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;/</span><span style="background: #ffffff; color: #a31515;">ControlTemplate</span><span style="background: #ffffff; color: #0000ff;">&gt;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;/</span><span style="background: #ffffff; color: #a31515;">Setter.Value</span><span style="background: #ffffff; color: #0000ff;">&gt;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;/</span><span style="background: #ffffff; color: #a31515;">Setter</span><span style="background: #ffffff; color: #0000ff;">&gt;</span></li>
<li><span style="background: #ffffff; color: #0000ff;">&lt;/</span><span style="background: #ffffff; color: #a31515;">Style</span><span style="background: #ffffff; color: #0000ff;">&gt;</span></li>
</ol></div>
</div>
</div>
<p>Basically, I&rsquo;ve created a xaml page in some very basic Windows Phone project, right-clicked it, selected Edit Template &gt; Edit a copy. This gives you a copy of the template for the Pivot. I copied that template in the generic.xaml style. The ContentControl at Lines 23-28 show the title in the pivot. I added the Visiblity property here and bound it to the HeaderVisibility property in the ExtendedPivot class. To bind a property in a style you need to use the TemplateBinding keyword instead of the normal Binding one.</p>
<p>Don&rsquo;t forget to set TargetType to the type of your custom control.</p>
<h2>Using the custom control in an app</h2>
<p>The control is ready, now it&rsquo;s time to use it. Create a new Windows Phone app and reference the project or DLL of the custom control. This is the MainPage of the sample app.</p>
<div id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:937c3d41-c571-4b67-8b03-138a7ce2cf23" class="wlWriterEditableSmartContent" style="float: none; margin: 0px; display: inline; padding: 0px;">
<div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt;">
<div style="background: #000080; color: #fff; font-family: Verdana, Tahoma, Arial, sans-serif; font-weight: bold; padding: 2px 5px;">Code Snippet</div>
<div style="background: #ddd; max-height: 500px; overflow: auto;"><ol style="background: #ffffff; margin: 0 0 0 2.5em; padding: 0 0 0 5px;" start="1">
<li><span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">phone</span><span style="background: #ffffff; color: #0000ff;">:</span><span style="background: #ffffff; color: #a31515;">PhoneApplicationPage</span><span style="background: #ffffff; color: #ff0000;"> x</span><span style="background: #ffffff; color: #0000ff;">:</span><span style="background: #ffffff; color: #ff0000;">Class</span><span style="background: #ffffff; color: #0000ff;">="ExtendedPivot.MainPage"</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #ff0000;"> xmlns</span><span style="background: #ffffff; color: #0000ff;">="http://schemas.microsoft.com/winfx/2006/xaml/presentation"</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #ff0000;"> xmlns</span><span style="background: #ffffff; color: #0000ff;">:</span><span style="background: #ffffff; color: #ff0000;">x</span><span style="background: #ffffff; color: #0000ff;">="http://schemas.microsoft.com/winfx/2006/xaml"</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #ff0000;"> xmlns</span><span style="background: #ffffff; color: #0000ff;">:</span><span style="background: #ffffff; color: #ff0000;">control</span><span style="background: #ffffff; color: #0000ff;">="clr-namespace:ExtendedPivot.Control;assembly=ExtendedPivot.Control"</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #ff0000;"> xmlns</span><span style="background: #ffffff; color: #0000ff;">:</span><span style="background: #ffffff; color: #ff0000;">d</span><span style="background: #ffffff; color: #0000ff;">="http://schemas.microsoft.com/expression/blend/2008"</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #ff0000;"> xmlns</span><span style="background: #ffffff; color: #0000ff;">:</span><span style="background: #ffffff; color: #ff0000;">mc</span><span style="background: #ffffff; color: #0000ff;">="http://schemas.openxmlformats.org/markup-compatibility/2006"</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #ff0000;"> xmlns</span><span style="background: #ffffff; color: #0000ff;">:</span><span style="background: #ffffff; color: #ff0000;">phone</span><span style="background: #ffffff; color: #0000ff;">="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone"</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #ff0000;"> xmlns</span><span style="background: #ffffff; color: #0000ff;">:</span><span style="background: #ffffff; color: #ff0000;">shell</span><span style="background: #ffffff; color: #0000ff;">="clr-namespace:Microsoft.Phone.Shell;assembly=Microsoft.Phone"</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #ff0000;"> FontFamily</span><span style="background: #ffffff; color: #0000ff;">="{</span><span style="background: #ffffff; color: #a31515;">StaticResource</span><span style="background: #ffffff; color: #ff0000;"> PhoneFontFamilyNormal}</span><span style="background: #ffffff; color: #0000ff;">"</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #ff0000;"> FontSize</span><span style="background: #ffffff; color: #0000ff;">="{</span><span style="background: #ffffff; color: #a31515;">StaticResource</span><span style="background: #ffffff; color: #ff0000;"> PhoneFontSizeNormal}</span><span style="background: #ffffff; color: #0000ff;">"</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #ff0000;"> Foreground</span><span style="background: #ffffff; color: #0000ff;">="{</span><span style="background: #ffffff; color: #a31515;">StaticResource</span><span style="background: #ffffff; color: #ff0000;"> PhoneForegroundBrush}</span><span style="background: #ffffff; color: #0000ff;">"</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #ff0000;"> Orientation</span><span style="background: #ffffff; color: #0000ff;">="Portrait"</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #ff0000;"> SupportedOrientations</span><span style="background: #ffffff; color: #0000ff;">="Portrait"</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #ff0000;"> shell</span><span style="background: #ffffff; color: #0000ff;">:</span><span style="background: #ffffff; color: #ff0000;">SystemTray.IsVisible</span><span style="background: #ffffff; color: #0000ff;">="True"</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #ff0000;"> mc</span><span style="background: #ffffff; color: #0000ff;">:</span><span style="background: #ffffff; color: #ff0000;">Ignorable</span><span style="background: #ffffff; color: #0000ff;">="d"&gt;</span></li>
<li style="background: #f3f3f3;">&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #008000;">&lt;!--&nbsp;&nbsp;LayoutRoot is the root grid where all page content is placed&nbsp;&nbsp;--&gt;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">Grid</span><span style="background: #ffffff; color: #ff0000;"> x</span><span style="background: #ffffff; color: #0000ff;">:</span><span style="background: #ffffff; color: #ff0000;">Name</span><span style="background: #ffffff; color: #0000ff;">="LayoutRoot"</span><span style="background: #ffffff; color: #ff0000;"> Background</span><span style="background: #ffffff; color: #0000ff;">="Transparent"&gt;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #008000;">&lt;!--&nbsp;&nbsp;Pivot Control&nbsp;&nbsp;--&gt;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">control</span><span style="background: #ffffff; color: #0000ff;">:</span><span style="background: #ffffff; color: #a31515;">ExtendedPivot</span><span style="background: #ffffff; color: #ff0000;"> HeaderVisibility</span><span style="background: #ffffff; color: #0000ff;">="{</span><span style="background: #ffffff; color: #a31515;">Binding</span><span style="background: #ffffff; color: #ff0000;"> Visibility}</span><span style="background: #ffffff; color: #0000ff;">"</span><span style="background: #ffffff; color: #ff0000;"> Title</span><span style="background: #ffffff; color: #0000ff;">="MY APPLICATION"&gt;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">control</span><span style="background: #ffffff; color: #0000ff;">:</span><span style="background: #ffffff; color: #a31515;">ExtendedPivotItem</span><span style="background: #ffffff; color: #ff0000;"> Header</span><span style="background: #ffffff; color: #0000ff;">="item 1"&gt;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">Grid</span><span style="background: #ffffff; color: #0000ff;">&gt;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">TextBlock</span><span style="background: #ffffff; color: #ff0000;"> Text</span><span style="background: #ffffff; color: #0000ff;">="item1" /&gt;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">Button</span><span style="background: #ffffff; color: #ff0000;"> Click</span><span style="background: #ffffff; color: #0000ff;">="ButtonBase_OnClick"</span><span style="background: #ffffff; color: #ff0000;"> Content</span><span style="background: #ffffff; color: #0000ff;">="button" /&gt;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;/</span><span style="background: #ffffff; color: #a31515;">Grid</span><span style="background: #ffffff; color: #0000ff;">&gt;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;/</span><span style="background: #ffffff; color: #a31515;">control</span><span style="background: #ffffff; color: #0000ff;">:</span><span style="background: #ffffff; color: #a31515;">ExtendedPivotItem</span><span style="background: #ffffff; color: #0000ff;">&gt;</span></li>
<li>&nbsp;</li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">control</span><span style="background: #ffffff; color: #0000ff;">:</span><span style="background: #ffffff; color: #a31515;">ExtendedPivotItem</span><span style="background: #ffffff; color: #ff0000;"> Header</span><span style="background: #ffffff; color: #0000ff;">="item 2"&gt;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;</span><span style="background: #ffffff; color: #a31515;">TextBlock</span><span style="background: #ffffff; color: #ff0000;"> Text</span><span style="background: #ffffff; color: #0000ff;">="item2" /&gt;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;/</span><span style="background: #ffffff; color: #a31515;">control</span><span style="background: #ffffff; color: #0000ff;">:</span><span style="background: #ffffff; color: #a31515;">ExtendedPivotItem</span><span style="background: #ffffff; color: #0000ff;">&gt;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;/</span><span style="background: #ffffff; color: #a31515;">control</span><span style="background: #ffffff; color: #0000ff;">:</span><span style="background: #ffffff; color: #a31515;">ExtendedPivot</span><span style="background: #ffffff; color: #0000ff;">&gt;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">&lt;/</span><span style="background: #ffffff; color: #a31515;">Grid</span><span style="background: #ffffff; color: #0000ff;">&gt;</span></li>
<li><span style="background: #ffffff; color: #0000ff;">&lt;/</span><span style="background: #ffffff; color: #a31515;">phone</span><span style="background: #ffffff; color: #0000ff;">:</span><span style="background: #ffffff; color: #a31515;">PhoneApplicationPage</span><span style="background: #ffffff; color: #0000ff;">&gt;</span></li>
</ol></div>
</div>
</div>
<p>Line 4 defines the namespace that holds the ExtendedPivot. Line 20 puts the control on the actual page. Notice that we bind the HeaderVisibility property of our control. I defined the datacontext of this page in code behind to be of type MainViewModel. MainViewModel implements INotifyPropertyChanged and only holds one property of type Visibility, that property is bound to the ExtendedPivot&rsquo;s HeaderVisibility.</p>
<p>The Button in the pivot will switch the HeaderVisibility between Collapsed and Visible, this happens in the code behind of this page.</p>
<div id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:86e0e5f2-43e0-487e-b3ec-e2e74701f27f" class="wlWriterEditableSmartContent" style="float: none; margin: 0px; display: inline; padding: 0px;">
<div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt;">
<div style="background: #000080; color: #fff; font-family: Verdana, Tahoma, Arial, sans-serif; font-weight: bold; padding: 2px 5px;">Code Snippet</div>
<div style="background: #ddd; max-height: 500px; overflow: auto;"><ol style="background: #ffffff; margin: 0 0 0 2.5em; padding: 0 0 0 5px;" start="1">
<li><span style="background: #ffffff; color: #0000ff;">public</span><span style="background: #ffffff; color: #0000ff;">partial</span><span style="background: #ffffff; color: #0000ff;">class</span><span style="background: #ffffff; color: #2b91af;">MainPage</span><span style="background: #ffffff; color: #000000;"> : </span><span style="background: #ffffff; color: #2b91af;">PhoneApplicationPage</span></li>
<li style="background: #f3f3f3;"><span style="background: #ffffff; color: #2b91af;">{</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">private</span><span style="background: #ffffff; color: #2b91af;">MainViewModel</span><span style="background: #ffffff; color: #000000;"> _mainViewModel;</span></li>
<li style="background: #f3f3f3;">&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #008000;">// Constructor</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">public</span><span style="background: #ffffff; color: #000000;"> MainPage()</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #000000;">{</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #000000;">InitializeComponent();</span></li>
<li>&nbsp;</li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #000000;">_mainViewModel = </span><span style="background: #ffffff; color: #0000ff;">new</span><span style="background: #ffffff; color: #2b91af;">MainViewModel</span><span style="background: #ffffff; color: #000000;">();</span></li>
<li>&nbsp;</li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #000000;">DataContext = _mainViewModel;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #000000;">}</span></li>
<li style="background: #f3f3f3;">&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">private</span><span style="background: #ffffff; color: #0000ff;">void</span><span style="background: #ffffff; color: #000000;"> ButtonBase_OnClick(</span><span style="background: #ffffff; color: #0000ff;">object</span><span style="background: #ffffff; color: #000000;"> sender, </span><span style="background: #ffffff; color: #2b91af;">RoutedEventArgs</span><span style="background: #ffffff; color: #000000;"> e)</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #000000;">{</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">if</span><span style="background: #ffffff; color: #000000;"> (_mainViewModel.Visibility == </span><span style="background: #ffffff; color: #2b91af;">Visibility</span><span style="background: #ffffff; color: #000000;">.Collapsed)</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #000000;">{</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #000000;">_mainViewModel.Visibility = </span><span style="background: #ffffff; color: #2b91af;">Visibility</span><span style="background: #ffffff; color: #000000;">.Visible;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #000000;">}</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #0000ff;">else</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #000000;">{</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #000000;">_mainViewModel.Visibility = </span><span style="background: #ffffff; color: #2b91af;">Visibility</span><span style="background: #ffffff; color: #000000;">.Collapsed;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li style="background: #f3f3f3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #000000;">}</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: #ffffff; color: #000000;">}</span></li>
<li style="background: #f3f3f3;"><span style="background: #ffffff; color: #000000;">}</span></li>
</ol></div>
</div>
</div>
<p>Not really the best way of writing a Windows Phone app but it&rsquo;s just for making the point <img class="wlEmoticon wlEmoticon-smile" style="border-style: none;" src="http://www.spikie.be/blog/images/wlEmoticon-smile_20.png" alt="Glimlach" /></p>
<h2>Conclusion</h2>
<p>Extending a Windows Phone control isn&rsquo;t hard as long as you follow the naming conventions, adding some extra functionality is as easy as copying the xaml template and adding some dependency properties.</p>
<p>The sample code can be found on my <a href="http://sdrv.ms/YY0pW8" target="_blank">SkyDrive</a></p>
<p>&nbsp;</p>
<p>
<script type="text/javascript">// <![CDATA[
google_ad_client = "ca-pub-2343948435149147";
/* spikie.be underpost */
google_ad_slot = "9230774310";
google_ad_width = 468;
google_ad_height = 60;
// ]]
{% include imported_disclaimer.html %}
